-- 17 - Tipo de dato (texto)
-----------------------------

use Curso_SqlServer;

-- Primer Problema: Un comercio que tiene un stand en una feria registra en una tabla llamada "visitantes" algunos datos de las personas que visitan o compran 
-- en su stand para luego enviarle publicidad de sus productos.

-- Eliminamos la tabla "visitantes", si existe
if object_id('visitantes') is not null
drop table visitantes;

-- Creamos con la siguiente estructura
create table visitantes( nombre varchar(30),
edad int,
sexo char(1),
domicilio varchar(30),
ciudad varchar(20),
telefono varchar(11)
);
-- Los campos "nombre", "domicilio" y "ciudad" almacenarán valores cuya longitud varía, por ello elegimos el tipo "varchar" y le damos a cada uno 
-- una longitud máxima estimando su tamaño. El campo "sexo" se define de tipo "char", porque necesitamos solamente 1 caracter "f" o "m", que 
-- siempre será fijo. El campo "telefono" también se define como varchar porque no todos los números telefónicos tienen la misma longitud.


-- Intentamos ingresar una cadena de mayor longitud que la definida
insert into visitantes(nombre, edad, sexo, domicilio, ciudad, telefono) values ('Juan Juarez', 32, 'masc', 'Avellaneda 789', 'Cordoba', '4234567');
-- aparece un mensaje de error y la sentencia no se ejecuta

-- Ingresamos un número telefónico olvidando las comillas, es decir, como un valor numérico
insert into visitantes(nombre, edad, sexo, domicilio, ciudad, telefono) values ('Marcela Morales', 43, 'f', 'Colon 456', 'Cordoba', 4567890);

-- lo convierte a cadena, veámoslo
select * from visitantes;
--**********************************************************************************************************************************--





-- Segundo problema: Una concesionaria de autos vende autos usados y almacena los datos de los autos en una tabla llamada "autos".

-- 1- Elimine la tabla "autos" si existe
if object_id('autos') is not null
drop table autos;

-- 2- Cree la tabla eligiendo el tipo de dato adecuado para cada campo, estableciendo el campo "patente" como clave primaria
create table autos(patente char(6),
marca varchar(20),
modelo char(4),
precio float,
primary key(patente)
);
-- Hemos definido el campo "patente" de tipo "char" y no "varchar" porque la cadena de caracteres siempre tendrá la misma longitud (6 caracteres). 
-- Lo mismo sucede con el campo "modelo", en el cual almacenaremos el año, necesitamos 4 caracteres fijos.


-- 3- Ingrese los siguientes registros
insert into autos(patente, marca, modelo, precio) values('ACD123', 'Fiat 128', '1970', 15000);
insert into autos(patente, marca, modelo, precio) values('ACG234', 'Renault 11', '1990', 40000);
insert into autos(patente, marca, modelo, precio) values('BCD333', 'Peugeot 505', '1990', 80000);
insert into autos(patente, marca, modelo, precio) values('GCD123', 'Renault Clio', '1990', 70000);
insert into autos(patente, marca, modelo, precio) values('BCC333', 'Renault Megane', '1998', 95000);
insert into autos(patente, marca, modelo, precio) values('BVF543', 'Fiat 128', '1975', 20000);

select * from autos;

-- 4- Seleccione todos los autos del año 1990
select *
from autos
where modelo = '1990';
--**************************************************************************************************************************************--








-- Tercer problema: Una empresa almacena los datos de sus clientes en una tabla llamada "clientes".
-- 1- Elimine la tabla "clientes" si existe
if OBJECT_ID('clientes') is not null
drop table clientes; 


-- 2- Créela eligiendo el tipo de dato más adecuado para cada campo
create table clientes(documento char(8),
apellido varchar(20),
nombre varchar(20),
domicilio varchar(30),
telefono varchar(11)
);
-- 3- Analice la definición de los campos. Se utiliza char(8) para el documento porque siempre constará de 8 caracteres. 
-- Para el número telefónico se usar "varchar" y no un tipo numérico porque si bien es un número, con él no se realizarán operaciones matemáticas.


-- 4- Ingrese algunos registros
insert into clientes(documento, apellido, nombre, domicilio, telefono) values('2233344', 'Perez', 'Juan', 'Sarmiento 980', '4342345');
insert into clientes(documento, apellido, nombre, domicilio) values('2333344', 'Perez', 'Ana', 'Colon 234');
insert into clientes(documento, apellido, nombre, domicilio, telefono) values('2433344', 'Garcia','Luis', 'Avellaneda 1454', '4558877');
insert into clientes(documento, apellido, nombre, domicilio, telefono) values('2533344', 'Juarez','Ana', 'Urquiza 444', '4789900');

select * from clientes;


-- 5- Seleccione todos los clientes de apellido "Perez" (2 registros)
select *
from clientes
where apellido = 'perez';
